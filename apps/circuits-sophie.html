<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Circuits</title>
    <meta
      name="description"
      content="A web app for generating a random selection of exercises for a circuit training session.">
    <meta name="author" content="Mark Evans">
    <meta name="theme-color" content="#ffffff">
    <meta name="view-transition" content="same-origin">
    <!--TODO add suitable OpenGraph data here-->

    <!--Favicons and Touch Icons and web manifest-->
    <link rel="icon" href="/pwaicons/favicon.svg">
    <link rel="apple-touch-icon" href="/pwaicons/apple-touch/apple-touch-icon-iphone-60x60.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/pwaicons/apple-touch/apple-touch-icon-ipad-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/pwaicons/apple-touch/apple-touch-icon-iphone-retina-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/pwaicons/apple-touch/apple-touch-icon-ipad-retina-152x152.png">
    <link rel="manifest" href="/manifest.json">

    <!--stylesheet and RSS-->
    <link rel="stylesheet" type="text/css" href="/styles/main79.css">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for OnlyRSS.org" href="/feed.xml">

    <style>
      @font-face {
        font-family: "Roboto Condensed";
        font-style: normal;
        font-weight: 400;
        font-display: block;
        src: url(../fonts/RobotoCondensed-Regular.woff2) format("woff2");
      }

      @font-face {
        font-family: "OpenSans";
        font-style: normal;
        font-weight: 400;
        src: url(../fonts/OpenSans-Regular.woff2) format("woff2");
      }

    </style>

    <!-- Service worker for installable app-->
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("../service-worker.js");
      }
    </script>

    <script>
      // get the slider value
      function getNumber() {
        let input = document.getElementById("userInput").value;
        return input;
      }

      // triggered by the main button: set the number of exercises to "n"
      function myFunction() {
        let n = getNumber();

        // clear the list of any existing exercises
        document.getElementById("exercises").innerHTML = "";

        // define the array
        const all_exercises = [
          ["walking lunge with overhead weight"],
          ["kettle swings"],
          ["ring star fish 20"],
          ["mountain climbers 40"],
          ["kettle bell triceps"],
          ["kettle bell pullovers 10"],
          ["chainsaw row"],
          ["burpees 10"],
          ["rowing 500m"],
          ["squat and stretch jumps 20", "jumping lunges", "step up"],
          ["one leg squat", "squats", "squat with kettle bell"],
          ["ankle raises", "squat ankle raises 25"],
          ["v sits","single leg v sits","sit ups 15","candle stick lifts","roll ups"],
          ["wind wipers","floor leg lifts","hanging leg lifts"],
          ["dish rocks","dish hold","fish kicks in dish"],
          ["ring reverse crunch","crunches","weighted russian twists 30"],
          ["pike hold","ring pikes","hanging knee tuck hold","hanging tuck ups","hanging wind wipers","hanging straddle hold","star leg planks"],
          ["plank", "commandos","elbow - knee","ring saws","shoulder taps"],
          ["push ups (arms out)","push ups (arms in)","bench press 20","flyes"],
          ["pull ups","chin ups"],
          ["handstand hold","handstand taps","handstand shoulder taps","dumbell shoulder press"],
        ];

        // Set the max value of the slider (with id=userInput) to the # of elements in the array
        document
          .getElementById("userInput")
          .setAttribute("max", all_exercises.length);

        // shuffle the full array
        function shuffleArray(array) {
          for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
          }
        }

        // pull out the first n values from the shuffled array and display as ordered list
        shuffleArray(all_exercises);
        all_exercises.slice(0, n).forEach((e) => {
          shuffleArray(e); // shuffle the nested array
          exercises.innerHTML =
            exercises.innerHTML + "<li>" + "&nbsp;" + e[0] + "</li>"; // choose the first element using e[0]
        });
      }
    </script>
  </head>

  <body onload="myFunction()">
    <button
      class="app-btn-close"
      onclick="location.href='../index.html'"
      type="button"
      title="close app and return to homepage"
    >
      &#x2715;
    </button>
    <div id="card">
      <div id="head">
        <p>
          â„– of exercises:
          <output name="numberOutputName" id="numberOutputId">12</output>
        </p>
        <input class="app-slider"
          id="userInput"
          type="range"
          placeholder="12"
          value="12"
          step="1"
          min="1"
          max=""
          oninput="numberOutputId.value = userInput.value">
        <p>
          <button class="app-workout" onclick="myFunction()">Create new workout</button>
        </p>
      </div>
      <ol id="exercises"></ol>
    </div>
  </body>
</html>
